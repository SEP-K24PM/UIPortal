@using UI_portal.Models
@using UI_portal.Constants;
@model UI_portal.Models.UserAccount
@{
    ViewBag.Title = "Trang cá nhân";
}
<main class="userProfile-page">
    <div class="banner"></div>
    <section class="mainProfile">
        <div class="container">
            <div class="mainProfile__left">
                <div class="mainProfile__left-wrap">
                    <!--Avt người dùng-->
                    <div class="avt">
                        <img src="@Url.Content("~/Content/Assets/img/icons/user.svg")" alt="user">
                    </div>
                    <!--Tên người dùng-->
                    <h3 class="name">NGƯỜI DÙNG</h3>
                    <!--Thông tin cơ bản-->
                    <p class="basic-info">@Model.email</p>
                    <!--TBC số sao-->
                    <div class="star-rating">
                        <span class="stars">@ViewBag.Star</span>
                        <span class="value">@ViewBag.Star</span>
                        <!--Tổng số người đánh giá-->
                        <p>(<span class="total-vote">@Model.userRatingList.Count</span>)</p>
                    </div>
                    @*<a href="" class="button-primary contactuser">
                            <p>LIÊN HỆ</p>
                        </a>*@
                    <div class="dotted">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
            <div class="mainProfile__right">
                <div class="tag-list">
                    <a href="" class="button-primary product active">
                        <p>Bài đăng</p>
                    </a>
                    <a href="" class="button-primary review">
                        <p>Đánh giá</p>
                    </a>
                </div>
                <div class="mainProfile__right-list">
                    <div class="panel product active">
                        @foreach (var post in Model.postList)
                        {
                            <div class="mainProfile__right-list-item">
                                <a href="@Url.Action("DetailsAsync", "Post", new { postId = post.id })">
                                    <div class="item-img">
                                        <!--Ảnh sản phẩm-->
                                        <img src="@Url.Content($"~{ImageConstants.Thing}{post.thing.image}")" alt="">
                                        <div class="label">
                                            <!--Thể loại sản phẩm-->
                                            <p class="type">@post.thing.category.category_name</p>
                                        </div>
                                        <div class="productcover-detail">
                                            <p class="title">@post.thing.thing_name</p>
                                            <div class="bottom-wrap">
                                                <!--Lựa chọn đổi-->
                                                <p class="option">@post.exchange_method</p>
                                                <div class="left">
                                                    <div class="img">
                                                        <img src="@Url.Content("~/Content/Assets/img/icons/icons8-mailbox-100.png")" alt="">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        }
                    </div>
                    <div class="panel review">
                        @foreach (var item in Model.userRatingList)
                        {
                            <div class="mainProfile__right-list-review">
                                <div class="right">
                                    <div class="right-top">
                                        <!--Tên người đánh giá-->
                                        <p class="name">@item.rater.email</p>
                                        <!--Số sao đánh giá-->
                                        <span class="stars">@item.rating</span>
                                    </div>
                                    <div class="right-bottom">
                                        @if (item.description != null)
                                        {
                                            <div class="cmt-box">
                                                <!--nhận xét-->
                                                <p class="cmt-content">
                                                    @item.description
                                                </p>
                                                <p class="read-more"><a href="#" class="button">Đọc tiếp</a></p>
                                            </div>
                                        }
                                        <!--Thời gian đăng-->
                                        <a href="@Url.Action("DetailsAsync", "Post", new { postId = item.post_id })">
                                            <div class="time">
                                                <p class="val">Xem bài đăng</p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>